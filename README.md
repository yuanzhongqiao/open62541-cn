<div class="Box-sc-g0xbh4-0 bJMeLZ js-snippet-clipboard-copy-unpositioned" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 tabindex="-1" dir="auto"><a id="user-content-open62541" class="anchor" aria-hidden="true" tabindex="-1" href="#open62541"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">open62541</font></font></h1>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">open62541 ( </font></font><a href="http://open62541.org" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://open62541.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 是 OPC UA（OPC 统一架构）的开源免费实现，以 C99 和 C++98 语言的公共子集编写。</font><font style="vertical-align: inherit;">该库可与所有主要编译器一起使用，并提供必要的工具来实现专用 OPC UA 客户端和服务器，或将基于 OPC UA 的通信集成到现有应用程序中。</font><font style="vertical-align: inherit;">open62541 库与平台无关。</font><font style="vertical-align: inherit;">所有特定于平台的功能都是通过可交换插件实现的。</font><font style="vertical-align: inherit;">为主要操作系统提供了插件实现。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">open62541 根据 Mozilla 公共许可证 v2.0 (MPLv2) 获得许可。</font><font style="vertical-align: inherit;">这使得 open62541 库可以与任何专有软件组合和分发。</font><font style="vertical-align: inherit;">在复制和分发时，只有对 open62541 库本身的更改才需要根据 MPLv2 获得许可。</font><font style="vertical-align: inherit;">插件以及服务器和客户端示例均属于公共领域（CC0 许可证）。</font><font style="vertical-align: inherit;">它们可以在任何许可下重复使用，并且不必发布更改。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该库以标准源代码和二进制形式</font></font><a href="https://github.com/open62541/open62541/releases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此外，单文件源代码分发将整个库合并为单个 .c 和 .h 文件，可以轻松添加到现有项目中。</font></font><a href="/open62541/open62541/blob/master/examples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例服务器和客户端实现可以在/examples</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录或本页的下方</font><font style="vertical-align: inherit;">找到。</font></font></p>
<p dir="auto"><animated-image data-catalyst=""><a href="https://www.openhub.net/p/open62541/" rel="nofollow" data-target="animated-image.originalLink"><img src="https://camo.githubusercontent.com/04163d44ed04116ec63077699cdd3e55ca5f70c10a28327a8ea80293f1210800/68747470733a2f2f7777772e6f70656e6875622e6e65742f702f6f70656e36323534312f776964676574732f70726f6a6563745f7468696e5f62616467652e676966" alt="开放中心项目状态" data-canonical-src="https://www.openhub.net/p/open62541/widgets/project_thin_badge.gif" style="max-width: 100%; display: inline-block;" data-target="animated-image.originalImage"></a>
      <span class="AnimatedImagePlayer" data-target="animated-image.player" hidden="">
        <a data-target="animated-image.replacedLink" class="AnimatedImagePlayer-images" href="https://www.openhub.net/p/open62541/" target="_blank">
          
        <span data-target="animated-image.imageContainer">
            <img data-target="animated-image.replacedImage" alt="开放中心项目状态" class="AnimatedImagePlayer-animatedImage" src="https://camo.githubusercontent.com/04163d44ed04116ec63077699cdd3e55ca5f70c10a28327a8ea80293f1210800/68747470733a2f2f7777772e6f70656e6875622e6e65742f702f6f70656e36323534312f776964676574732f70726f6a6563745f7468696e5f62616467652e676966" style="display: block; opacity: 1;">
          <canvas class="AnimatedImagePlayer-stillImage" aria-hidden="true" width="135" height="21"></canvas></span></a>
        <button data-target="animated-image.imageButton" class="AnimatedImagePlayer-images" tabindex="-1" aria-label="播放 Open Hub 项目状态" hidden=""></button>
        <span class="AnimatedImagePlayer-controls" data-target="animated-image.controls" hidden="">
          <button data-target="animated-image.playButton" class="AnimatedImagePlayer-button" aria-label="播放 Open Hub 项目状态">
            <svg aria-hidden="true" focusable="false" class="octicon icon-play" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4 13.5427V2.45734C4 1.82607 4.69692 1.4435 5.2295 1.78241L13.9394 7.32507C14.4334 7.63943 14.4334 8.36057 13.9394 8.67493L5.2295 14.2176C4.69692 14.5565 4 14.1739 4 13.5427Z">
            </path></svg>
            <svg aria-hidden="true" focusable="false" class="octicon icon-pause" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
              <rect x="4" y="2" width="3" height="12" rx="1"></rect>
              <rect x="9" y="2" width="3" height="12" rx="1"></rect>
            </svg>
          </button>
          <a data-target="animated-image.openButton" aria-label="在新窗口中打开 Open Hub 项目状态" class="AnimatedImagePlayer-button" href="https://www.openhub.net/p/open62541/" target="_blank">
            <svg aria-hidden="true" class="octicon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">
              <path fill-rule="evenodd" d="M10.604 1h4.146a.25.25 0 01.25.25v4.146a.25.25 0 01-.427.177L13.03 4.03 9.28 7.78a.75.75 0 01-1.06-1.06l3.75-3.75-1.543-1.543A.25.25 0 0110.604 1zM3.75 2A1.75 1.75 0 002 3.75v8.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 12.25v-3.5a.75.75 0 00-1.5 0v3.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-8.5a.25.25 0 01.25-.25h3.5a.75.75 0 000-1.5h-3.5z"></path>
            </svg>
          </a>
        </span>
      </span></animated-image>
<a href="https://dev.azure.com/open62541/open62541/_build/latest?definitionId=1&amp;branchName=master" rel="nofollow"><img src="https://camo.githubusercontent.com/b2ae6d96d032c0db01c995a5a91df1350fe2ecedcb5643f4e87a339257dc5351/68747470733a2f2f6465762e617a7572652e636f6d2f6f70656e36323534312f6f70656e36323534312f5f617069732f6275696c642f7374617475732f6f70656e36323534312e6f70656e36323534313f6272616e63684e616d653d6d6173746572" alt="构建状态" data-canonical-src="https://dev.azure.com/open62541/open62541/_apis/build/status/open62541.open62541?branchName=master" style="max-width: 100%;"></a>
<a href="https://ci.appveyor.com/project/open62541/open62541/branch/master" rel="nofollow"><img src="https://camo.githubusercontent.com/c371ffcff7f4ef56017e9d1f18444987bacd38002b6509bb661e356482d58786/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f6769746875622f6f70656e36323534312f6f70656e36323534313f6272616e63683d6d6173746572267376673d74727565" alt="构建状态" data-canonical-src="https://ci.appveyor.com/api/projects/status/github/open62541/open62541?branch=master&amp;svg=true" style="max-width: 100%;"></a>
<a href="https://github.com/open62541/open62541/actions/workflows/codeql.yml"><img src="https://github.com/open62541/open62541/actions/workflows/codeql.yml/badge.svg" alt="扫码" style="max-width: 100%;"></a>
<a href="https://bugs.chromium.org/p/oss-fuzz/issues/list?sort=-opened&amp;can=1&amp;q=proj:open62541" rel="nofollow"><img src="https://camo.githubusercontent.com/3eb4df6598109da75ea20c3993a2dbcec1d84dc3cb6c92aae91d96737157abe8/68747470733a2f2f6f73732d66757a7a2d6275696c642d6c6f67732e73746f726167652e676f6f676c65617069732e636f6d2f6261646765732f6f70656e36323534312e737667" alt="模糊测试状态" data-canonical-src="https://oss-fuzz-build-logs.storage.googleapis.com/badges/open62541.svg" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/open62541/open62541" rel="nofollow"><img src="https://camo.githubusercontent.com/818e337943a634b7515363efc1dbb493e623b53b0e02222fc8665ffbb5587e20/68747470733a2f2f636f6465636f762e696f2f67682f6f70656e36323534312f6f70656e36323534312f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="代码科夫" data-canonical-src="https://codecov.io/gh/open62541/open62541/branch/master/graph/badge.svg" style="max-width: 100%;"></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-features" class="anchor" aria-hidden="true" tabindex="-1" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特征</font></font></h2>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">open62541 实现了 OPC UA SDK，支持服务器、客户端和 PubSub（发布-订阅）通信。</font><font style="vertical-align: inherit;">有关完整详细信息，请参阅</font></font><a href="/open62541/open62541/blob/master/FEATURES.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能概述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">核心堆栈
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OPC UA 二进制和 JSON 编码</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于 TCP 的 OPC UA SecureChannel</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义数据类型（从 XML 定义生成）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可移植的 C99——特定于体系结构的代码封装在标准接口后面</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高度可配置，具有用于加密（OpenSSL、mbedTLS）、访问控制、历史记录、日志记录等的默认插件。</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持所有 OPC UA 服务（查询服务除外——未由任何 SDK 实现）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持从标准 XML 定义生成信息模型（Nodeset Compiler）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持在运行时添加和删除节点和引用</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持订阅（数据更改和事件通知）</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持所有 OPC UA 服务</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持异步服务请求</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订阅的后台处理</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布订阅
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PubSub 消息编码（二进制和 JSON）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过 UDP 多播、以太网、MQTT 传输</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过信息模型进行运行时配置</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可配置的实时快速路径</font></font></li>
</ul>
</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-commercial-use-and-official-support" class="anchor" aria-hidden="true" tabindex="-1" href="#commercial-use-and-official-support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商业用途和官方支持</font></font></h2>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">open62541 根据 MPLv2 获得许可。</font><font style="vertical-align: inherit;">也就是说，对 MPLv2 下的文件进行的更改属于同一开源许可证。</font><font style="vertical-align: inherit;">但是，即使生成静态二进制文件，该库也可以与来自单独文件的私有开发相结合，而许可证不会影响私有文件。</font><font style="vertical-align: inherit;">有关详细信息，请参阅完整的</font></font><a href="/open62541/open62541/blob/master/LICENSE"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">许可文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fraunhofer IOSB</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">维护open62541并提供</font></font><strong><a href="https://www.iosb.fraunhofer.de/en/projects-and-products/open62541.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">官方商业支持</font></font></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><a href="https://www.open62541.org/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">open62541.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上列出了其他服务提供商</font><font style="vertical-align: inherit;">。</font></font></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-official-certification" class="anchor" aria-hidden="true" tabindex="-1" href="#official-certification"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">官方认证</font></font></h2>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 open62541 v1.0 构建的示例服务器 (server_ctt) 符合 OPC 基金会的“微型嵌入式设备服务器”配置文件，支持 OPC UA 客户端/服务器通信、订阅、方法调用和安全性（加密），安全策略为“Basic128Rsa15” ”、“Basic256”和“Basic256Sha256”以及方面“方法服务器”和“节点管理”。</font><font style="vertical-align: inherit;">有关更多详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><a href="https://open62541.org/certified-sdk" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://open62541.org/certified-sdk 。</font></font></a><font style="vertical-align: inherit;"></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PubSub (UADP) 在 open62541 中实现。</font><font style="vertical-align: inherit;">但由于缺乏官方测试用例和测试工具，该功能目前无法获得认证（2019 年 9 月）。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在开发过程中，定期应用OPC基金会的一致性测试工具（CTT）。</font><font style="vertical-align: inherit;">CTT 配置和结果可在</font></font><a href="https://github.com/open62541/open62541-ctt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/open62541/open62541-ctt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行跟踪。</font><font style="vertical-align: inherit;">目前在 CTT 中定期测试的 OPC UA 配置文件有：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微型嵌入式设备服务器</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法服务器方面</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">节点管理方面</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全政策
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本128Rsa15</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础256</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本256Sha256</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户代币
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匿名方面</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户名密码服务器方面</font></font></li>
</ul>
</li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"></font><a href="/open62541/open62541/blob/master/FEATURES.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参阅open62541 功能</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面，</font><font style="vertical-align: inherit;">深入了解对构成 OPC UA 配置文件的一致性单元的支持。</font></font></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-documentation-and-support" class="anchor" aria-hidden="true" tabindex="-1" href="#documentation-and-support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档和支持</font></font></h2>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关 OPC UA 的一般介绍和 open62541 文档，请访问</font></font><a href="http://open62541.org" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://open62541.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><a href="https://github.com/open62541/open62541/releases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该库的过去版本可以在https://github.com/open62541/open62541/releases</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整个 open62541 社区处理 Github 和邮件列表上的公共支持请求。</font><font style="vertical-align: inherit;">如需个人讨论和支持，请使用以下渠道：</font></font></p>
<ul dir="auto">
<li><a href="https://groups.google.com/d/forum/open62541" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邮件列表</font></font></a></li>
<li><a href="https://github.com/open62541/open62541/issues"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">问题跟踪器</font></font></a></li>
<li><a href="https://github.com/open62541/open62541/pulls"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求请求</font></font></a></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们希望建立一个开放、热情的社区。</font><font style="vertical-align: inherit;">请</font><font style="vertical-align: inherit;">考虑我们的</font></font><a href="/open62541/open62541/blob/master/CODE_OF_CONDUCT.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行为准则。</font></font></a><font style="vertical-align: inherit;"></font></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-development" class="anchor" aria-hidden="true" tabindex="-1" href="#development"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发展</font></font></h2>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为一个开源项目，我们鼓励新的贡献者帮助改进 open62541。</font><font style="vertical-align: inherit;">文件</font></font><a href="/open62541/open62541/blob/master/CONTRIBUTING.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONTRIBUTING.md</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汇总了我们期望的代码贡献的良好实践。</font><font style="vertical-align: inherit;">以下是新贡献者的良好起点：</font></font></p>
<ul dir="auto">
<li><a href="https://github.com/open62541/open62541/issues"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告错误</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改进</font></font><a href="http://open62541.org/doc/current" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理标记为“</font></font><a href="https://github.com/open62541/open62541/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好第一期</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">”的问题</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于最终将成为 open62541 库一部分的定制开发，请让核心维护者之一了解情况。</font></font></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-dependencies" class="anchor" aria-hidden="true" tabindex="-1" href="#dependencies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">依赖关系</font></font></h3>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在大多数系统上，open62541 仅需要 C 标准库。</font><font style="vertical-align: inherit;">有关构建过程中的依赖项，请参阅以下列表和</font></font><a href="https://www.open62541.org/doc/master/building.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以了解详细信息。</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">核心库：核心库除了 C99 标准头之外没有任何依赖项。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认插件：默认插件使用 POSIX 接口进行联网和访问系统时钟。</font><font style="vertical-align: inherit;">通过定制插件来实现不同（嵌入式）架构的移植。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建和代码生成：构建环境是通过 CMake 生成的。</font><font style="vertical-align: inherit;">某些代码是根据 OPC UA 标准一部分的 XML 定义自动生成的。</font><font style="vertical-align: inherit;">代码生成脚本可使用 Python 2 和 3 运行。</font></font></li>
</ul>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
具体可选功能依赖于第三方库。</font><font style="vertical-align: inherit;">这些都列在</font></font><code>deps/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件夹下。</font><font style="vertical-align: inherit;">根据所选的功能集，其中一些库将包含在生成的库中。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更多关于第三方库的信息可以在相应的</font></font><a href="/open62541/open62541/blob/master/deps/README.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deps/README.md中找到</font></font></a></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-code-quality" class="anchor" aria-hidden="true" tabindex="-1" href="#code-quality"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码质量</font></font></h3>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们强调代码质量。</font><font style="vertical-align: inherit;">以下质量指标经过持续检查，并确保在正式发布之前保持有效：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OPC 基金会的合规性测试工具 (CTT) 对于支持的功能指示零错误</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自 GCC/Clang/MSVC 的零编译器警告，具有非常严格的编译标志</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单元测试表明零问题（覆盖率超过 80%）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clang-analyzer、clang-tidy、cpp-check 和 Codacy 静态代码分析工具指示零问题</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对 Google oss-fuzz 基础设施中的库进行模糊测试，未解决的问题为零</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Valgrind (Linux)、DrMemory (Windows) 和 Clang AddressSanitizer / MemorySanitizer 在 CTT 测试、单元测试和模糊测试中指出零问题</font></font></li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-installation-and-code-usage" class="anchor" aria-hidden="true" tabindex="-1" href="#installation-and-code-usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装及代码使用</font></font></h2>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于每个版本，我们都提供了一些预打包的版本包，您可以直接在编译基础设施中使用它们。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看</font></font><a href="https://github.com/open62541/open62541/releases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布页面</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和相应的附加资产。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"></font><a href="https://www.open62541.org/doc/master/building.html#building-the-library" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中提供了有关如何安装 open62541 SDK 的更详细说明</font><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您无法使用 Github UI 直接从主分支下载 .zip 包，因为这样会丢失一些子模块和版本字符串。</font><font style="vertical-align: inherit;">因此，您可以选择三个选项来安装和使用此堆栈：</font></font></p>
<ul dir="auto">
<li>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建议：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用每个版本附带的任何准备好的软件包或您发行版的软件包存储库（如果可用）中的任何软件包。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
请查看安装指南以获取更多信息。</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载特殊分支的.zip包</font></font><code>pack/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这些包分支与相应的基础分支是最新的，但已经有子模块并且版本字符串设置正确。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下是当前包分支的一些直接下载链接：</font></font></p>
<ul dir="auto">
<li><a href="https://github.com/open62541/open62541/archive/pack/master.zip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包/master.zip</font></font></a></li>
<li><a href="https://github.com/open62541/open62541/archive/pack/1.0.zip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包/1.0.zip</font></font></a></li>
</ul>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克隆此存储库并使用 初始化所有子模块</font></font><code>git submodule update --init --recursive</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后相应地使用</font></font><code>make install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或设置您的 CMake 项目。</font></font></p>
</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-examples" class="anchor" aria-hidden="true" tabindex="-1" href="#examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例子</font></font></h2>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完整的示例列表可以在</font></font><a href="https://github.com/open62541/open62541/tree/master/examples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例目录</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中找到。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要构建示例，我们建议安装上一节中提到的 open62541 项目。</font></font></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-example-server-implementation" class="anchor" aria-hidden="true" tabindex="-1" href="#example-server-implementation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器实施示例</font></font></h3>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在系统上安装 open62541 后，可以使用 gcc 构建以下简单的服务器示例。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用GCC编译器，运行即可</font></font><code>gcc -std=c99 -DUA_ARCHITECTURE_POSIX &lt;server.c&gt; -lopen62541 -o server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Windows下可能需要添加</font></font><code> -lws2_32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
并更改</font></font><code>-DUA_ARCHITECTURE_POSIX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><code>-DUA_ARCHITECTURE_WIN32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<div class="highlight highlight-source-c notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">#include</span> <span class="pl-s">&lt;open62541/server.h&gt;</span>

<span class="pl-smi">int</span> <span class="pl-en">main</span>(<span class="pl-smi">int</span> <span class="pl-s1">argc</span>, <span class="pl-smi">char</span><span class="pl-c1">*</span><span class="pl-c1">*</span> <span class="pl-s1">argv</span>)
{
    <span class="pl-c">/* Create a server listening on port 4840 (default) */</span>
    <span class="pl-smi">UA_Server</span> <span class="pl-c1">*</span><span class="pl-s1">server</span> <span class="pl-c1">=</span> <span class="pl-en">UA_Server_new</span>();

    <span class="pl-c">/* Add a variable node to the server */</span>

    <span class="pl-c">/* 1) Define the variable attributes */</span>
    <span class="pl-smi">UA_VariableAttributes</span> <span class="pl-s1">attr</span> <span class="pl-c1">=</span> <span class="pl-s1">UA_VariableAttributes_default</span>;
    <span class="pl-s1">attr</span>.<span class="pl-c1">displayName</span> <span class="pl-c1">=</span> <span class="pl-en">UA_LOCALIZEDTEXT</span>(<span class="pl-s">"en-US"</span>, <span class="pl-s">"the answer"</span>);
    <span class="pl-smi">UA_Int32</span> <span class="pl-s1">myInteger</span> <span class="pl-c1">=</span> <span class="pl-c1">42</span>;
    <span class="pl-en">UA_Variant_setScalar</span>(<span class="pl-c1">&amp;</span><span class="pl-s1">attr</span>.<span class="pl-c1">value</span>, <span class="pl-c1">&amp;</span><span class="pl-s1">myInteger</span>, <span class="pl-c1">&amp;</span><span class="pl-c1">UA_TYPES</span>[<span class="pl-c1">UA_TYPES_INT32</span>]);

    <span class="pl-c">/* 2) Define where the node shall be added with which browsename */</span>
    <span class="pl-smi">UA_NodeId</span> <span class="pl-s1">newNodeId</span> <span class="pl-c1">=</span> <span class="pl-en">UA_NODEID_STRING</span>(<span class="pl-c1">1</span>, <span class="pl-s">"the.answer"</span>);
    <span class="pl-smi">UA_NodeId</span> <span class="pl-s1">parentNodeId</span> <span class="pl-c1">=</span> <span class="pl-en">UA_NODEID_NUMERIC</span>(<span class="pl-c1">0</span>, <span class="pl-c1">UA_NS0ID_OBJECTSFOLDER</span>);
    <span class="pl-smi">UA_NodeId</span> <span class="pl-s1">parentReferenceNodeId</span> <span class="pl-c1">=</span> <span class="pl-en">UA_NODEID_NUMERIC</span>(<span class="pl-c1">0</span>, <span class="pl-c1">UA_NS0ID_ORGANIZES</span>);
    <span class="pl-smi">UA_NodeId</span> <span class="pl-s1">variableType</span> <span class="pl-c1">=</span> <span class="pl-c1">UA_NODEID_NULL</span>; <span class="pl-c">/* take the default variable type */</span>
    <span class="pl-smi">UA_QualifiedName</span> <span class="pl-s1">browseName</span> <span class="pl-c1">=</span> <span class="pl-en">UA_QUALIFIEDNAME</span>(<span class="pl-c1">1</span>, <span class="pl-s">"the answer"</span>);

    <span class="pl-c">/* 3) Add the node */</span>
    <span class="pl-en">UA_Server_addVariableNode</span>(<span class="pl-s1">server</span>, <span class="pl-s1">newNodeId</span>, <span class="pl-s1">parentNodeId</span>,
                              <span class="pl-s1">parentReferenceNodeId</span>, <span class="pl-s1">browseName</span>,
                              <span class="pl-s1">variableType</span>, <span class="pl-s1">attr</span>, <span class="pl-c1">NULL</span>, <span class="pl-c1">NULL</span>);

    <span class="pl-c">/* Run the server (until ctrl-c interrupt) */</span>
    <span class="pl-smi">UA_StatusCode</span> <span class="pl-s1">status</span> <span class="pl-c1">=</span> <span class="pl-en">UA_Server_runUntilInterrupt</span>(<span class="pl-s1">server</span>);

    <span class="pl-c">/* Clean up */</span>
    <span class="pl-en">UA_Server_delete</span>(<span class="pl-s1">server</span>);
    <span class="pl-k">return</span> <span class="pl-s1">status</span> <span class="pl-c1">==</span> <span class="pl-c1">UA_STATUSCODE_GOOD</span> ? <span class="pl-c1">EXIT_SUCCESS</span> : <span class="pl-c1">EXIT_FAILURE</span>;
}</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="#include <open62541/server.h>

int main(int argc, char** argv)
{
    /* Create a server listening on port 4840 (default) */
    UA_Server *server = UA_Server_new();

    /* Add a variable node to the server */

    /* 1) Define the variable attributes */
    UA_VariableAttributes attr = UA_VariableAttributes_default;
    attr.displayName = UA_LOCALIZEDTEXT(&quot;en-US&quot;, &quot;the answer&quot;);
    UA_Int32 myInteger = 42;
    UA_Variant_setScalar(&amp;attr.value, &amp;myInteger, &amp;UA_TYPES[UA_TYPES_INT32]);

    /* 2) Define where the node shall be added with which browsename */
    UA_NodeId newNodeId = UA_NODEID_STRING(1, &quot;the.answer&quot;);
    UA_NodeId parentNodeId = UA_NODEID_NUMERIC(0, UA_NS0ID_OBJECTSFOLDER);
    UA_NodeId parentReferenceNodeId = UA_NODEID_NUMERIC(0, UA_NS0ID_ORGANIZES);
    UA_NodeId variableType = UA_NODEID_NULL; /* take the default variable type */
    UA_QualifiedName browseName = UA_QUALIFIEDNAME(1, &quot;the answer&quot;);

    /* 3) Add the node */
    UA_Server_addVariableNode(server, newNodeId, parentNodeId,
                              parentReferenceNodeId, browseName,
                              variableType, attr, NULL, NULL);

    /* Run the server (until ctrl-c interrupt) */
    UA_StatusCode status = UA_Server_runUntilInterrupt(server);

    /* Clean up */
    UA_Server_delete(server);
    return status == UA_STATUSCODE_GOOD ? EXIT_SUCCESS : EXIT_FAILURE;
}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-example-client-implementation" class="anchor" aria-hidden="true" tabindex="-1" href="#example-client-implementation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端实现示例</font></font></h3>
<div class="highlight highlight-source-c notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">#include</span> <span class="pl-s">&lt;stdio.h&gt;</span>
<span class="pl-k">#include</span> <span class="pl-s">&lt;open62541/client.h&gt;</span>
<span class="pl-k">#include</span> <span class="pl-s">&lt;open62541/client_highlevel.h&gt;</span>

<span class="pl-smi">int</span> <span class="pl-en">main</span>(<span class="pl-smi">int</span> <span class="pl-s1">argc</span>, <span class="pl-smi">char</span> <span class="pl-c1">*</span><span class="pl-s1">argv</span>[])
{
    <span class="pl-c">/* Create a client and connect */</span>
    <span class="pl-smi">UA_Client</span> <span class="pl-c1">*</span><span class="pl-s1">client</span> <span class="pl-c1">=</span> <span class="pl-en">UA_Client_new</span>();
    <span class="pl-en">UA_ClientConfig_setDefault</span>(<span class="pl-en">UA_Client_getConfig</span>(<span class="pl-s1">client</span>));
    <span class="pl-smi">UA_StatusCode</span> <span class="pl-s1">status</span> <span class="pl-c1">=</span> <span class="pl-en">UA_Client_connect</span>(<span class="pl-s1">client</span>, <span class="pl-s">"opc.tcp://localhost:4840"</span>);
    <span class="pl-k">if</span>(<span class="pl-s1">status</span> <span class="pl-c1">!=</span> <span class="pl-c1">UA_STATUSCODE_GOOD</span>) {
        <span class="pl-en">UA_Client_delete</span>(<span class="pl-s1">client</span>);
        <span class="pl-k">return</span> <span class="pl-s1">status</span>;
    }

    <span class="pl-c">/* Read the value attribute of the node. UA_Client_readValueAttribute is a</span>
<span class="pl-c">     * wrapper for the raw read service available as UA_Client_Service_read. */</span>
    <span class="pl-smi">UA_Variant</span> <span class="pl-s1">value</span>; <span class="pl-c">/* Variants can hold scalar values and arrays of any type */</span>
    <span class="pl-en">UA_Variant_init</span>(<span class="pl-c1">&amp;</span><span class="pl-s1">value</span>);
    <span class="pl-s1">status</span> <span class="pl-c1">=</span> <span class="pl-en">UA_Client_readValueAttribute</span>(<span class="pl-s1">client</span>, <span class="pl-en">UA_NODEID_STRING</span>(<span class="pl-c1">1</span>, <span class="pl-s">"the.answer"</span>), <span class="pl-c1">&amp;</span><span class="pl-s1">value</span>);
    <span class="pl-k">if</span>(<span class="pl-s1">status</span> <span class="pl-c1">==</span> <span class="pl-c1">UA_STATUSCODE_GOOD</span> <span class="pl-c1">&amp;&amp;</span>
       <span class="pl-en">UA_Variant_hasScalarType</span>(<span class="pl-c1">&amp;</span><span class="pl-s1">value</span>, <span class="pl-c1">&amp;</span><span class="pl-c1">UA_TYPES</span>[<span class="pl-c1">UA_TYPES_INT32</span>])) {
        <span class="pl-en">printf</span>(<span class="pl-s">"the value is: %i\n"</span>, <span class="pl-c1">*</span>(<span class="pl-smi">UA_Int32</span><span class="pl-c1">*</span>)<span class="pl-s1">value</span>.<span class="pl-c1">data</span>);
    }

    <span class="pl-c">/* Clean up */</span>
    <span class="pl-en">UA_Variant_clear</span>(<span class="pl-c1">&amp;</span><span class="pl-s1">value</span>);
    <span class="pl-en">UA_Client_delete</span>(<span class="pl-s1">client</span>); <span class="pl-c">/* Disconnects the client internally */</span>
    <span class="pl-k">return</span> <span class="pl-s1">status</span> <span class="pl-c1">==</span> <span class="pl-c1">UA_STATUSCODE_GOOD</span> ? <span class="pl-c1">EXIT_SUCCESS</span> : <span class="pl-c1">EXIT_FAILURE</span>;
}</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="#include <stdio.h>
#include <open62541/client.h>
#include <open62541/client_highlevel.h>

int main(int argc, char *argv[])
{
    /* Create a client and connect */
    UA_Client *client = UA_Client_new();
    UA_ClientConfig_setDefault(UA_Client_getConfig(client));
    UA_StatusCode status = UA_Client_connect(client, &quot;opc.tcp://localhost:4840&quot;);
    if(status != UA_STATUSCODE_GOOD) {
        UA_Client_delete(client);
        return status;
    }

    /* Read the value attribute of the node. UA_Client_readValueAttribute is a
     * wrapper for the raw read service available as UA_Client_Service_read. */
    UA_Variant value; /* Variants can hold scalar values and arrays of any type */
    UA_Variant_init(&amp;value);
    status = UA_Client_readValueAttribute(client, UA_NODEID_STRING(1, &quot;the.answer&quot;), &amp;value);
    if(status == UA_STATUSCODE_GOOD &amp;&amp;
       UA_Variant_hasScalarType(&amp;value, &amp;UA_TYPES[UA_TYPES_INT32])) {
        printf(&quot;the value is: %i\n&quot;, *(UA_Int32*)value.data);
    }

    /* Clean up */
    UA_Variant_clear(&amp;value);
    UA_Client_delete(client); /* Disconnects the client internally */
    return status == UA_STATUSCODE_GOOD ? EXIT_SUCCESS : EXIT_FAILURE;
}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</article></div>
